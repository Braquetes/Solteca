<app-link></app-link>
<div class="body">
  <div class="d-flex">
    <!-- BARRA LATERAL -->
    <div id="sidebar-container" class="">
      <div class="logo">
        <img src="../../../../assets/img/user1.png" alt="" />
        <h3 class="d-block p-1 border-0">Vendedor</h3>
        <p class="d-block p-1 border-0">{{vendedor}}</p>
        <p class="d-block p-1 border-0">Turno: {{turno}}</p>
      </div>
      <div class="menu">
        <a [routerLink]="['/ventanilla']" class="d-block p-3 border-0"
          ><i class="icon ion-md-cash lead mr-2"></i> Ventas</a
        >
        <a [routerLink]="['/reporte']" class="d-block p-3 border-0"
          ><i class="icon ion-md-analytics lead mr-2"></i> Reportes</a
        >
        <a [routerLink]="['/info']" class="d-block p-3 border-0"
          ><i class="icon ion-md-information-circle-outline lead mr-2"></i> Mas
          información</a
        >
      </div>
    </div>
    <!-- FIN BARRA LATERAL -->

    <div class="w-100" id="content-wrapper">
      <nav class="header">
        <div class="dato">
          <a type="button" [routerLink]="['/ventanilla']" class="btn btn-seguir"
            ><i class="fas fa-arrow-left"></i> Seguir Comprando
          </a>
        </div>
        <div class="dato">
          <h1>Boletaje de venta</h1>
        </div>
        <!-- <div class="dato">
          <h5>Fecha: <span class="badge badge-light">00/00/00</span></h5>
        </div>
        <div class="dato">
          <h5>Hora: <span class="badge badge-light">00:00:00</span></h5>
        </div> -->
      </nav>
      <!-- CONTENIDO PRINCIPAL -->
      <div id="content" class="w-100">
        <div class="contenedor-general">
          <div class="container-fluid">
            <div class="row">
              <div class="col-12">
                <div class="card-table">
                  <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">Tipo</th>
                        <th scope="col">Precio</th>
                        <th scope="col">N° Asiento</th>
                        <th scope="col"></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr
                        *ngFor="let carro of carrito"
                        [hidden]="carro.Estado == 2"
                      >
                        <th scope="row">{{ carro.Tipo }}</th>
                        <td>$ {{ carro.Precio }}</td>
                        <td>{{ carro.Asiento }}</td>
                        <td>
                          <button
                            class="btn btn-danger"
                            (click)="eliminar(carro.Id_carrito)"
                          >
                            <i class="fas fa-trash"></i> Eliminar
                          </button>
                        </td>
                      </tr>
                      <tr class="text-center">
                        <th scope="row" class="total">Total:</th>
                        <td colspan="3" class="total">$ {{ total }}</td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="botones-compra">
                    <div class="row">
                      <div class="col">
                        <a
                          [routerLink]="['/ventanilla']"
                          class="btn btn-cancelar"
                          ><i class="fas fa-times-circle"></i> Cancelar</a
                        >
                      </div>
                      <div class="col">
                        <div>
                            <button printSectionId="{{0}}"
                            [printStyle]="{ p: {'text-align': 'center'},  h5: {'text-align': 'center'},  h6: {'text-align': 'center'}}"
                            printTitle="Ticket de Compra"
                            styleSheetFile="carrito.component.css"
                            ngxPrint>
                            <a class="btn btn-agregar">
                                Imprimir
                            </a>
                            </button>
                        </div>
                      </div>
                      <div class="col">
                        <a class="btn btn-agregar" (click)="generar()"
                          ><i class="fas fa-check"></i> Generar Compra</a
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="container" id="{{i}}" *ngFor="let carro of carrito; let i = index;" [hidden]="i !== 0">
            <div class="ticket">
                <div class="table" *ngFor="let ticket of ticket; let i = index;">
                    <div class="encabezado-ticket">
                    <h5><strong>AUTOTRANSPORTES</strong></h5>
                    <h6><small>Régimen de Coordinados</small></h6>
                    <h5>"{{ticket.Empresa}}"</h5>
                    <p>RFC: {{ticket.RFC}}</p>
                    <p>
                        {{ticket.Ubicacion}}
                    </p>

                    <p>Tel: {{ticket.Telefono}}</p>
                    <p><strong>Taquillero </strong>{{vendedor}}</p>
                    </div>
                    <div class="folio">
                    <p><strong>Folio: </strong> {{Folio}}</p>
                    </div>
                    <div class="info-ticket">
                    <p><strong>Fecha de compra: </strong>{{carro.Fecha_salida}}</p>
                    <p><strong>Ruta: </strong> {{carro.Origen}} - {{carro.Destino}}</p>
                    <p><strong>Fecha de salida: </strong>{{carro.Fecha_salida}}</p>
                    <p><strong>Pasajero: </strong>{{carro.Nombre_cliente}}</p>
                    <!-- <div *ngFor="let car of carrito">
                        <p><strong>Asientos: </strong>{{car.Asiento}}</p>
                    </div> -->
                    <p><strong>Asientos: </strong>{{carro.Asiento}}</p>
                    <p><strong>Tipo: </strong>{{carro.Tipo}}</p>
                    <p><strong>Precio: </strong>{{carro.Precio}}</p>
                    <p><strong>Nota: </strong>{{carro.Referencia}}</p>
                    </div>
                    <div class="pie-ticket">
                    <p>
                        {{ticket.Mensaje}}
                    </p>
                    <!--  <br> -->
                    <p>
                    <!--  <br> -->
                    <p>
                        {{ticket.Despedida}}
                    </p>
                    <p class="enlace text-center">{{ticket.Pagina}}</p>
                    </div>
                </div>
            </div>
            <div class="ticket" *ngFor="let carro of carrito; let i = index" [hidden]="carrito.length == 1 || i == 0">
                <div class="table" *ngFor="let ticket of ticket; let i = index">
                    <div class="encabezado-ticket">
                    <h5><strong>AUTOTRANSPORTES</strong></h5>
                    <h6><small>Régimen de Coordinados</small></h6>
                    <h5>"{{ticket.Empresa}}"</h5>
                    <p>RFC: {{ticket.RFC}}</p>
                    <p>
                        {{ticket.Ubicacion}}
                    </p>

                    <p>Tel: {{ticket.Telefono}}</p>
                    <p><strong>Taquillero </strong>{{vendedor}}</p>
                    </div>
                    <div class="folio">
                    <p><strong>Folio: </strong> {{Folio}}</p>
                    </div>
                    <div class="info-ticket">
                    <p><strong>Fecha de compra: </strong>{{carro.Fecha_salida}}</p>
                    <p><strong>Ruta: </strong> {{carro.Origen}} - {{carro.Destino}}</p>
                    <p><strong>Fecha de salida: </strong>{{carro.Fecha_salida}}</p>
                    <p><strong>Pasajero: </strong>{{carro.Nombre_cliente}}</p>
                    <!-- <div *ngFor="let car of carrito">
                        <p><strong>Asientos: </strong>{{car.Asiento}}</p>
                    </div> -->
                    <p><strong>Asientos: </strong>{{carro.Asiento}}</p>
                    <p><strong>Tipo: </strong>{{carro.Tipo}}</p>
                    <p><strong>Precio: </strong>{{carro.Precio}}</p>
                    <p><strong>Nota: </strong>{{carro.Referencia}}</p>
                    </div>
                    <div class="pie-ticket">
                    <p>
                        {{ticket.Mensaje}}
                    </p>
                    <!--  <br> -->
                    <p>
                    <!--  <br> -->
                    <p>
                        {{ticket.Despedida}}
                    </p>
                    <p class="enlace text-center">{{ticket.Pagina}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>
</div>
